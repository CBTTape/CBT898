//&USERID.&ID JOB &ACCT,'&PR-&SOURCE',MSGCLASS=&OUTCL,CLASS=&JCL,
//       REGION=4096K,
//       NOTIFY=&&SYSUID
)SEL &JOBPARM ¬= &Z
&JOBPARM
//*
)ENDSEL &JOBPARM ¬= &Z
//*
//*    JOB TO ASSEMBLE AND LINK ASSEMBLER SOURCE
//*
//*
)CM ******************************************************************
)CM *  THIS SELECTION IS IF OBJECT LIBRARY IS SPECIFIED, THEN IT WILL
)CM *  BE USED.
)CM ******************************************************************
)SEL &AOOTHER ¬= &Z
)SEL &PR = A | &PR = AL
//ASM      EXEC  PGM=ASMA90,REGION=1024K,
//         PARM='&ACOPT'
//SYSLIB   DD DISP=SHR,DSN=&HLQ..MACLIB,
//            DCB=BLKSIZE=27920
)SEL &MONOCHRM = M
//         DD DISP=SHR,DSN=&HLQ..MONO.MACLIB
)ENDSEL
)CM ******************************************************************
)CM
)CM )SEL &MONOCHRM = C
)CM //         DD DISP=SHR,DSN=&HLQ..COLOR.MACLIB
)CM )ENDSEL
)CM
)CM ******************************************************************
)SEL &SCPYLIB ¬= &SYSLIB
)SEL &SCPYLIB ¬= &Z
//         DD DISP=SHR,DSN=&SCPYLIB
)ENDSEL
)ENDSEL
)SEL &XTRALIB1 ¬= &Z
//         DD DISP=SHR,DSN=&XTRALIB1
)ENDSEL
)SEL &XTRALIB2 ¬= &Z
//         DD DISP=SHR,DSN=&XTRALIB2
)ENDSEL
)SEL &B4IBM = Y
)SEL &ORIGIN ¬= &Z
//         DD DISP=SHR,DSN=&ORIGIN
)ENDSEL
)SEL &ALKXTRA ¬= &Z
//*        DD DISP=SHR,DSN=&ALKXTRA
)ENDSEL
//*******************************************************************
//         DD DSN=TFWK.MACLIB,DISP=SHR
//         DD DSN=DFWK.MACLIB,DISP=SHR
//         DD DSN=PFWK.MACLIB,DISP=SHR
//         DD DISP=SHR,DSN=PFWK.ARFN.COPYLIB
//         DD  DSN=CICSESA.V330.SDFHMAC,DISP=SHR
//         DD  DSN=CICSESA.V330.SDFHSRC,DISP=SHR
//*******************************************************************
)ENDSEL &B4IBM = Y
//         DD DISP=SHR,DSN=SYS1.MACLIB
)SEL &AMODGENV = &Z
//*        DD DISP=SHR,DSN=SYS1.AMODGEN
)ENDSEL
)SEL &AMODGENV ¬= &Z
//         DD DISP=SHR,DSN=SYS1.AMODGEN,
&AMODGENV
)ENDSEL
//         DD DISP=SHR,DSN=SYS1.MODGEN
)SEL &JES2SRC ¬= &Z
//         DD DISP=SHR,DSN=&JES2SRC
)ENDSEL
)SEL &B4IBM ¬= Y
)SEL &ORIGIN ¬= &Z
//         DD DISP=SHR,DSN=&ORIGIN
)ENDSEL
)SEL &ALKXTRA ¬= &Z
//*        DD DISP=SHR,DSN=&ALKXTRA
)ENDSEL
)ENDSEL &B4IBM = Y
)SEL &CICSMACL ¬= &Z
//         DD DISP=SHR,DSN=&CICSMACL
)ENDSEL &CICSMACL ¬= &Z
)SEL &CICSSRCE ¬= &Z
//         DD DISP=SHR,DSN=&CICSSRCE
)ENDSEL &CICSSRCE ¬= &Z
//SYSUT1   DD UNIT=SYSDA,SPACE=(1700,(900,900))
//SYSUT2   DD UNIT=SYSDA,SPACE=(1700,(900,900))
//SYSUT3   DD UNIT=SYSDA,SPACE=(1700,(900,900))
//SYSPUNCH DD DISP=SHR,DSN=&SONAME(&SOURCE)
//SYSPRINT DD SYSOUT=*
//SYSIN    DD DISP=SHR,DSN=&SSNAME
//*
//*
)ENDSEL
)SEL &PR = L | &PR = AL
//LKED     EXEC PGM=IEWL,COND=(5,LT),
//         PARM='&ALOPT,AMODE=&AMODE'
)CM//         PARM='&ALOPT'
//SYSUT1   DD UNIT=SYSDA,SPACE=(1024,(100,10))
)SEL &TALVOL = &Z
//SYSLMOD  DD DISP=SHR,DSN=&SLNAME
)ENDSEL
)SEL &TALVOL ¬= &Z
//SYSLMOD  DD DISP=SHR,DSN=&SLNAME,
//            UNIT=&UNIT,VOL=SER=&TALVOL
)ENDSEL
//SYSPRINT DD SYSOUT=*

)SEL &USEGDDM = Y && &GDDMLOAD ¬= &Z
//GDDMLOAD DD DISP=SHR,DSN=&GDDMLOAD
)ENDSEL &USEGDDM = Y && &GDDMLOAD ¬= &Z

//SYSLIB   DD DISP=SHR,DSN=&SONAME

)SEL &INCLISPL = Y
//ISPLINK  DD DISP=SHR,DSN=&ISPLOAD
)ENDSEL &INCLISPL = Y
//**************************************************************
//SYSLIN   DD *
    INCLUDE SYSLIB(&SOURCE)
)SEL &INCLISPL = Y
    INCLUDE ISPLINK(ISPLINK)
)ENDSEL
)SEL &AUTHCODE = 1
    SETCODE AC(1)
)ENDSEL
)SEL &USEGDDM = Y
    INCLUDE GDDMLOAD(ADMASNT)    NONREENTRANT
)CM INCLUDE GDDMLOAD(ADMASRT)    REENTRANT
)CM INCLUDE GDDMLOAD(ADMASPT)    SYSTEM PROGRAMMER
)ENDSEL
)SEL &ENTRY ¬= &Z
    ENTRY &ENTRY
)ENDSEL
    NAME  &LMEMBER(R)
/*
)ENDSEL
)SEL &PARM = G
//GO       EXEC JOB,DSN='&SYSUID..UTIL.CNTL',N=&SOURCE,
//         COND=((5,LT,ASM.C),(0,NE,ASM.L),REGION=1000K
)ENDSEL
)ENDSEL
)CM ******************************************************************
)CM *  THIS SELECTION IS IF OBJECT LIBRARY IS NOT SPECIFIED.
)CM ******************************************************************
)SEL &AOOTHER = &Z
)SEL &PR = A | &PR = AL
//ASM      EXEC  PGM=ASMA90,REGION=1024K,
//         PARM='&ACOPT'
//SYSLIB   DD DISP=SHR,DSN=&HLQ..MACLIB,
//            DCB=BLKSIZE=27920
)SEL &MONOCHRM = M
//         DD DISP=SHR,DSN=&HLQ..MONO.MACLIB
)ENDSEL
)CM ******************************************************************
)CM
)CM )SEL &MONOCHRM = C
)CM //         DD DISP=SHR,DSN=&HLQ..COLOR.MACLIB
)CM )ENDSEL
)CM
)CM ******************************************************************
)SEL &SCPYLIB ¬= &SYSLIB
)SEL &SCPYLIB ¬= &Z
//         DD DISP=SHR,DSN=&SCPYLIB
)ENDSEL
)ENDSEL
)SEL &XTRALIB1 ¬= &Z
//         DD DISP=SHR,DSN=&XTRALIB1
)ENDSEL
)SEL &XTRALIB2 ¬= &Z
//         DD DISP=SHR,DSN=&XTRALIB2
)ENDSEL
)SEL &B4IBM = Y
)SEL &ORIGIN ¬= &Z
//         DD DISP=SHR,DSN=&ORIGIN
)ENDSEL
)SEL &ALKXTRA ¬= &Z
//*        DD DISP=SHR,DSN=&ALKXTRA
)ENDSEL
//*******************************************************************
//         DD DSN=TFWK.MACLIB,DISP=SHR
//         DD DSN=DFWK.MACLIB,DISP=SHR
//         DD DSN=PFWK.MACLIB,DISP=SHR
//         DD DISP=SHR,DSN=PFWK.ARFN.COPYLIB
//         DD  DSN=CICSESA.V330.SDFHMAC,DISP=SHR
//         DD  DSN=CICSESA.V330.SDFHSRC,DISP=SHR
//*******************************************************************
)ENDSEL &B4IBM = Y
//         DD DISP=SHR,DSN=SYS1.MACLIB
)SEL &AMODGENV = &Z
//*        DD DISP=SHR,DSN=SYS1.AMODGEN
)ENDSEL
)SEL &AMODGENV ¬= &Z
//         DD DISP=SHR,DSN=SYS1.AMODGEN,
&AMODGENV
)ENDSEL
//         DD DISP=SHR,DSN=SYS1.MODGEN
)SEL &JES2SRC ¬= &Z
//         DD DISP=SHR,DSN=&JES2SRC
)ENDSEL
)SEL &B4IBM ¬= Y
)SEL &ORIGIN ¬= &Z
//         DD DISP=SHR,DSN=&ORIGIN
)ENDSEL
)SEL &ALKXTRA ¬= &Z
//*        DD DISP=SHR,DSN=&ALKXTRA
)ENDSEL
)ENDSEL &B4IBM = Y
)SEL &CICSMACL ¬= &Z
//         DD DISP=SHR,DSN=&CICSMACL
)ENDSEL &CICSMACL ¬= &Z
)SEL &CICSSRCE ¬= &Z
//         DD DISP=SHR,DSN=&CICSSRCE
)ENDSEL &CICSSRCE ¬= &Z
//SYSUT1   DD UNIT=SYSDA,SPACE=(1700,(900,900))
//SYSUT2   DD UNIT=SYSDA,SPACE=(1700,(900,900))
//SYSUT3   DD UNIT=SYSDA,SPACE=(1700,(900,900))
//SYSLIN   DD DUMMY
)SEL &PR = AL
//SYSPUNCH DD DISP=(,PASS),UNIT=SYSDA,SPACE=(CYL,(5,5,0)),
//      DCB=(BLKSIZE=400),DSN=&&LOADSET
)ENDSEL
)SEL &PR = A
//SYSPUNCH DD SYSOUT=Z
)ENDSEL
//SYSPRINT DD SYSOUT=*
//SYSIN    DD DISP=SHR,DSN=&SSNAME
//*
//*
)ENDSEL
)SEL &PR = L | &PR = AL
//LKED     EXEC PGM=IEWL,COND=(5,LT),
//         PARM='&ALOPT,AMODE=&AMODE'
)CM//         PARM='&ALOPT'
//SYSUT1   DD UNIT=SYSDA,SPACE=(1024,(100,10))
)SEL &TALVOL = &Z
//SYSLMOD  DD DISP=SHR,DSN=&SLNAME
)ENDSEL
)SEL &TALVOL ¬= &Z
//SYSLMOD  DD DISP=SHR,DSN=&SLNAME,
//            UNIT=&UNIT,VOL=SER=&TALVOL
)ENDSEL
//SYSPRINT DD SYSOUT=*

)SEL &USEGDDM = Y && &GDDMLOAD ¬= &Z
//GDDMLOAD DD DISP=SHR,DSN=SYS1.GDDMLOAD
)ENDSEL &USEGDDM = Y && &GDDMLOAD ¬= &Z

)SEL &TALVOL = &Z
//SYSLIB   DD DISP=SHR,DSN=&SLNAME,
)ENDSEL
)SEL &TALVOL ¬= &Z
//SYSLIB   DD DISP=SHR,DSN=&SLNAME,
//            UNIT=&UNIT,VOL=SER=&TALVOL,
)ENDSEL
//            DCB=BLKSIZE=27920
)SEL &USERLOAD ¬= &Z
//         DD DISP=SHR,DSN=&USERLOAD
)ENDSEL &USERLOAD ¬= &Z
)SEL &INCLISPL = Y
//ISPLINK  DD DISP=SHR,DSN=&ISPLOAD
)ENDSEL

//SYSLIN   DD DISP=(OLD,DELETE),DSN=&&LOADSET
//         DD DDNAME=SYSIN
//**************************************************************
//SYSIN    DD *
)SEL &INCLISPL = Y
    INCLUDE ISPLINK(ISPLINK)
)ENDSEL
)SEL &AUTHCODE = 1
    SETCODE AC(1)
)ENDSEL
)SEL &USEGDDM = Y
    INCLUDE GDDMLOAD(ADMASNT)    NONREENTRANT
)CM INCLUDE GDDMLOAD(ADMASRT)    REENTRANT
)CM INCLUDE GDDMLOAD(ADMASPT)    SYSTEM PROGRAMMER
)ENDSEL
)SEL &ENTRY ¬= &Z
    ENTRY &ENTRY
)ENDSEL
    NAME  &LMEMBER(R)
/*
)ENDSEL
)SEL &PARM = G
//GO       EXEC JOB,DSN='&SYSUID..UTIL.CNTL',N=&SOURCE,
//         COND=((0,EQ,ASM.C),(0,NE,ASM.L),REGION=1000K
)ENDSEL
)ENDSEL
//CNDCODE0 EXEC PGM=IKJEFT01,COND=(0,LT)
//*   IF LIST WAS OK SET COMPLETE STATUS TO WHITE
//SYSTSPRT  DD SYSOUT=*
//SYSTSIN   DD *
 SEND ' "&PR-&SOURCE" COMPLETED OK.' USER(&USERID)
/*
)SEL &PR = A | &PR = AL
//CNDCOD41 EXEC PGM=IKJEFT01,
//    COND=(0,EQ,ASM)
//*   IF LIST WAS OK SET COMPLETE STATUS AGAINST TASK &OP
//SYSTSPRT  DD SYSOUT=*
//SYSTSIN   DD *
 SEND ' "&PR-&SOURCE" STEP RC=4.' USER(&USERID)
/*
//CNDCOD81 EXEC PGM=IKJEFT01,
//    COND=(4,GE,ASM)
//*   IF LIST WAS OK SET COMPLETE STATUS AGAINST TASK &OP
//SYSTSPRT  DD SYSOUT=*
//SYSTSIN   DD *
 SEND ' "&PR-&SOURCE" STEP ASM FAILED.' USER(&USERID)
/*
)ENDSEL
)SEL &PR = L | &PR = AL
//CNDCOD42 EXEC PGM=IKJEFT01,
//    COND=(0,EQ,LKED)
//*   IF LIST WAS OK SET COMPLETE STATUS AGAINST TASK &OP
//SYSTSPRT  DD SYSOUT=*
//SYSTSIN   DD *
 SEND ' "&PR-&SOURCE" STEP RC=4.' USER(&USERID)
/*
//CNDCOD82 EXEC PGM=IKJEFT01,
//    COND=(4,GE,LKED)
//*   IF LIST WAS OK SET COMPLETE STATUS AGAINST TASK &OP
//SYSTSPRT  DD SYSOUT=*
//SYSTSIN   DD *
 SEND ' "&PR-&SOURCE" STEP LKED FAILED.' USER(&USERID)
/*
)ENDSEL
//CNDCODEA EXEC PGM=IKJEFT01,COND=ONLY
//*   IF LIST WAS OK SET COMPLETE STATUS AGAINST TASK &OP
//SYSTSPRT  DD SYSOUT=*
//SYSTSIN   DD *
 SEND ' "&PR-&SOURCE" ABENDED.' USER(&USERID)
/*
