*
* Healine for the Tutorial panel
*
%headline=' Online PDSEDIT '
%tutever='V1.02'
%hyper_link=2
%time=Substr(Time(),1,5)
%sid=Strip(storage(d2x(x2d(c2x(storage(10,4)))+x2d(154)),8))

                              *** Top of Data ***
!G

 *** Enter TN/? on the command line to help with tutorial navigation. ***
!w   !    2 b2b                                                      w

.1.Introduction:
!G

 This screen is used to do global FINDS/CHANGES to PDS's in place or CHANGE-COPY
!                                 y    by      b                     y     by
 into another PDS.

?PDSDOCO (HELPDRVR=PDSDOCOT) *
 Place cursor on hyper_link PDSDOCO for assistance on the PDSEDIT search engine
!                           2      b
 used by this facility.


.2.Features:
!G

 If PDS is to be changed in place, the output PDS need not be specified. The
 number of FINDS/CHANGES combinations per pass is screen depth dependant.

 FIND   format (assumes \ as seperator):
!y   b                  yb
      \find-string\
!     yg          y

 CHANGE format:
!y     b
      \change-from-string\change-to-string\
!     yg                 yg               y

 You may also Exclude or Select members for FIND/CHANGE by explicitly using the
!             y      b   y     b
      S(member1,.....membern) or E(....)
!     y g     wg           wyb   y g   y
 option. The default is S(all) - blank in field.  (For further details on member
!                       y g  yb
 selection see last screen.)

 You may replace the parameter list generated by supplying your own pre-defined
 list by entering the following command:
      /C='qualifier.dataset(member)'
!     y   g                        yb
 must be quoted if qualified. This will be used as the SYSIN parameters, so know
 your formats.  Ensure you insert the F/C command and the correct seperators.
!                                     ybyb
 The commands are sticky fields for subsequent modification and/or reference.
 Clear all unwanted FINDS/CHANGES from previous process if applicable.  (Or use
 the "I" prefix in on-line screens.)
!     yb

 It is recommended that FINDS and CHANGES be mutually exclusive.
!                       y     b   y       b

 If the FIND option is used, the output class must not be Z as finding any
!                                                         yb
 occurance is useless in the bit bucket (for batch processing).'

 If CHANGE option is used, the JCL with the appropriate PDSEDIT commands are
!   y     b                                             y      b
 presented in edit format for perusal and subsequent changes if required.  To
 abandon changes, delete all lines prior to ending the edit session. You can
 view FIND parameters by entering /ES (Edit SYSIN) on the command line.
!     y   b                       y  b
 During changes, PDSEDIT may encounter a 'line overflow', whereby the change
!                                         t            b
 will not be fully made for that member (check for partial change).  Any errors
 against a member will be identified by a "CH-Error" entry in the Action column.
!                                          r       b             w     b
 (Use CE selection to list error or use HITS command to browse report.)
!     y  b                              y   b

 There is a field for entering a PDS and member into which an edit macro will
 be built. This edit macro will basically EXLUDE ALL lines and issue a FIND
!                                         y         b                  y
 all changes in the member being edited. The edit-macro may be toggled on/off
 by issueing the MON or MOFF command. The edit-macro may be edited by entering
!                y  b   y   b
 MED on the command line during the table display.
!y  b
 You may also associate a PF Key for executing the above edit macro.
!                         y     b
 Note - This option will not work if you use the /C=... option.
!w   b                                           y  g  b
      - The PDS specified must be in your SYSPROC concatenation.
!                                        y       b
      - If this field is blank, commands MON, MOFF and MED have no affect.
!                                        y  b y   b    y   b

 For changes made, stats will not be updated.  If your site requires an audit
 trail, suggest you enter US against the member to update state (thie actually
 edits and saves the member) or manually edit/save member.


?screen(1)
.3.Sample screen(1) using delimiter of \.
!G                                     YG

&&#TIM. ------------------- Online PDSEDIT - Entry panel -----------------------
!y
&&#SID. ===>
!y    w    4                                                                   b

 Data set name where input members reside:
    Data set ===> 'TCFGCFO.UTIL.CNTL'                            <=> PACK25 <=
!            w    4                                              w   4      w
 Data set name where output members are to be copied to (optional):
    Data set ===> 'TCFGCFO.TRANSFER.CNTL'                        <= Cre =>   <=
!            w    4                                              w  b   w  4w
 Hits only   ===> Y <=  (Y/N)           PDSEDIT delimiter ===> \ <= U/C => N <=
!            w    4w  b                                  w     4w   b   w  4w
 Data set name where to store edit macro:                   Keep output => Y <=
!                                                           b          w   4w
    Data set ===>                                                <= PFK =>    <=
!            w    4                                             w   b   w  4 w
 Enter FIND/CHANGES, format: \find-string\ or \from-string\to-string\
!                            yg          yb   yg          yg        y
=     w   r                                                                   w
  Cmd ==> \TCFGCFO\PCFGCFO\                                                   <=
  Cmd ==> \TCFOENQ\PCFOENQ\                                                   <=
  Cmd ==> \CSALEX\PROD-ID\                                                    <=
  Cmd ==> \TSO001\PROD01\                                                     <=
  Cmd ==> i\ignoreSTRING\toSTRING\                                            <=
  Cmd ==> \(UCAT.V\(CATALOG.V\                                                <=
  Cmd ==>                                                                     <=
  Cmd ==> \'CSALEX.ISPPLIB'\'PCFGCFO.PANEL.ISPPLIB'\                          <=
  Cmd ==>                                                                     <=
  Cmd ==>                                                                     <=
  Cmd ==> i\IGNORESTRING-1\                                                   <=
  Cmd ==>                                                                     <=
  Cmd ==>                                                                     <=
  Cmd ==>                                                                     <=
  Cmd ==>                                                                     <=
  Cmd ==>                                                                     <=
  Cmd ==>                                                                     <=
  Cmd ==>                                                                     <=
  Cmd ==> i\IGNORESTRING-3\                                                   <=
  Cmd ==> i\IGNORESTRING-4\                                                   <=
=
 Select/Exclude members, format: S/E(M1,M2,M3,M4)
!                                g
   S/E ===> E(WORK1,TESTFILE,DUMMY1,PRODTEST,GCFOX900)
!           4

!4


 You can build the member selection list by wildcarding a member as the second
!                                                                       2     b
 parameter. It may have trailing and leading *, eg. FRED* or *RED*.
!2        b                                  yb     y     b  y    b

 Note - If the select parameter list exceeds the limit of the 2 display lines,
!w    b
        a > will be inserted as the last character in the field. While the > is
!       b yb                                                               yb
        present the field will be treated ASIS. If it is missing, it will be
        assumed the selection list is being manually modified and the selection
        parameters will be re parsed.

 Once a find has been issued you may then restrict the next find command to all
 the members with hits or misses. However, to permit the find on misses you
 must have the Hits only flag set to N.
!              y         b           yb
 Exit the table display after a find/change has been performed and enter AND
!                                                                        y
 Hits/Miss on the command line of the parameter entry screen (the default is
!y   by    b
 Hits) and the select parameter list will be set up for you.
!y   b


.4.Input fields summary.
!G

.4a.Output dataset name:
!g  2                   b
 Enter an output dataset name if changes are to be made to a PDS who's hlq is
 not your userid.  Alternatively use the FORCE command.
!                                        y     b
 (If the output dataset does not exist, enter Y in the Cre field (to the right)
!                                             y!       y  !
 to create the output dataset. If the dataset exists and Y is entered, it will
!                                                        y!
 be deleted and redefined with the original attributes (and size).
 Note, new dataset's attributes (and size) will be based on the original
!w    !
 dataset.)

.4b.PDSEDIT delimiter:
!g  2                 b
 Find and change commands must be marked with delimiters. This field displays
 the delimiter in affect and may be used to change it. If this field is changed
 the delimiters in the commands are not (refer /D=d command).
!                                              2   b

.4c.Hits only:
!g  2         b
 Only display members that a hit was made in (Y) or display all members (N)
!                                             yb                         yb
 color coded according to the number of hits:
     ?       Red        Used to indicate new added/copied member that may/maynot
!r                      b
                        have hits.  (Also for members with "CH-Errors".)
!                                                           r        b
     0       White
!w
     1       Turquoise
!t
     2 to 9  Green
!g     b  g
     >=10    Yellow
!y


.4d.Upper case (U/C):
!g  2                b
 Translate FIND/CHAMGE string to upper case.  Certain members are case sensitive
 and you may wish to keep your FIND/CHANGE command to cover this. For further
 details to assist in this process go to hyper_link case.
!                                                   2   b
 (Don't forget the /M R command if you wish to return here using /M.)
!                  y   b                                         y b

.4e.Keep output:
!g  2           b
 The following output datasets are allocated:
&        SYSPRINT   &#UID..&#SID..PDSEDITH.TEMP { .BATCH }
!        w          y
&        SYSOUT     &#UID..&#SID..PDSEDITL.TEMP { .BATCH }
!        w          y
 The .BATCH suffix is appended if /BATCH command is used and Y is entered in
!    y      b                     y      b                   yb
 this field.  If batch is selected and N is entered, the output will be stored
!                                      yb
 as JES output.
 The SYSPRINT dataset is the one used on the /B='sysprint.batch.dataset'
!    w        b                              y  g
 command.

.4f.PFK:
!g  2   b
 Optional PF key to assign if edit macro build option is used. Refer to MON/MOFF
!                                                                       2
 command.

.4g.Column boundaries:
!g  2                 b
 Enter RIGHT on the command line to bring up the boundaries entry screen (pseudo
!      y     b
 scroll right). The following screen will be presented. As the physical command
 field is truncated the feld is converted to output to prevent loss of data. To
 change parameters return to original screen.
 You can set a default value for all parameters and/or fine tune the scan bounds
 by entering thye column range for each command.
 Enter LEFT on the command line to return to original screen or press [ENTER] to
!      y    b
 start processing.

&&#TIM. ------------------- Online PDSEDIT - Entry panel -----------------------
!y
&&#SID. ===>
!y    w    4                                                                   b

 Data set name where input members reside:
    Data set ===> 'TCFGCFO.UTIL.CNTL'                            <=> PACK25 <=
!            w    4                                              w   4      w
 Data set name where output members are to be copied to (optional):
    Data set ===> 'TCFGCFO.TRANSFER.CNTL'                        <=
!            w    4                                             w
 Hits only   ===> Y <=  (Y/N)           PDSEDIT delimiter ===> \ <= U/C => N <=
!            w    4w  b                                  w     4w   b   w  4 w
 Data set name where to store edit macro:                   Keep output => Y <=
!                                                           b          w   4 w
    Data set ===>                                              Column boundaries
!            w    4                                            t
 Enter FIND/CHANGES, format: #find-string# or #from-stri Default =>     :     <=
!                            yg          yb   yg         t       w
=     w   r                                                     w
  Cmd ==> \TCFGCFO\PCFGCFO\                                     <=>     :     <=
  Cmd ==> \TCFOENQ\PCFOENQ\                                     <=>     :     <=
  Cmd ==> \CSALEX\PROD-ID\                                      <=>     :     <=
  Cmd ==> \TSO001\PROD01\                                       <=>     :     <=
=


.5.Miscellaneous parameter entry screen(1) commands:
!G

=y          b
 /AND       Indirectly provide an 'anding' find/change option. After making the
!y          b                      y     b
            first find return to the first screen and using this command the
            select/exclude list will be built from the previous process's hits.
 /BAtch     Execute PDSEDIT in batch using the online parameters.
 /B=dsname  Build the display table from the output dsname which was executed
!y          b                                       y      b
            in batch. (Usually for large scans). The dsname must be quoted or
!           b                                        y      b
            the PROFILE's prefix will be inserted.  Use the dataset that was
            allocated to SYSPRINT during a /BATCH (with keep=Y) run.
            Enter /B=D to restore to defaults.
!           b     y    b
            Enter /B=O to use the original defaults (D) and execute phase
!           b     y    b                             yb
            3 for that pass.
 /C=dsname  Use the dataset(member) dsname as the input parameters.
!y          b                       y      b

?/D=d                                                                   t and
 /D=d       Change delimter to d and also all the delimiters at the start and
!y          b                  yb
            end of commands.
 /ES        Edit SYSIN dataset (is the default for changes).
 /ISORE     Toggles the Ignore status of the Select OR Exclude list if present.
!y          b           gb                   gb     g   b
            This feature is made available when the select/exclusion list is
            made up using the member masking feature and the > continuation
!                                                            yb
            indicator overflows of the screen and this preserves the integrity
            of the list and the identity of the select/exclude option used.
 /M=mask    Create a selection list on member names using mask. Same as
!y          b                                             y   b
            invoking with a member_parameter passed. Set mask to spaces to
!                           2               b                    y      b
            to rmove select/exclude list.
 AND        Same as /AND above
 B          Browse dataset.
 BOT        Shuffle all the commands to the bottom  of screen.
 E          Edit dataset.
 FORCE      Permit (force) changes to PDS not your hlq.
 HITS       Listing of occurances from dataset:
                 'userid.sysid.PDSEDITH.TEMP'
!y                                    gy
            This command can only be issued once screen(1) is sucessfully
            processed.
            The dataset will be BROWSED unless you pass a parameter of /V. If
!                                                                      y b
            you wish to edit it, convert the browse/view session to edit using
            the EM /E command (if available).
!               y     b
 ISORE      Same as /ISORE above
 LEFT       Normal screen(1) display.
 RIGHT      Screen(1) display to permit coulumn found.
 LISTO      Listing of members where occurences found.
                 'userid.sysid.PDSEDITL.TEMP'
!y                                    gy
            This command can only be issued once screen(1) is sucessfully
            processed. However, not applicable if /B=dataset option is used.
!                                                 y  g       b
            The dataset will be BROWSED unless you pass a parameter of /V. If
!                                                                      y b
            you wish to edit it, convert the browse/view session to edit using
            the EM /E command (if available).
!               y     b
 TOP        Shuffle all the commands to the top  of screen.
 V          View dataset.
 ?          Tutorial.
=

?screen(2)
.6.Fields of interest in the table display screen(2).
!G

=t
 PDSEDIT 'AKOS.$$.NEW' (20/20 Members : 33 - Hits) ---------------- Row 1 of 20
!y                                                                  w
 AKOS ===>                                                     Scroll ===> CSR
!w                                                                        r
 |Sel | Member   | Action   | Operands | Hits  |(Edit-macro: N/A)
 +----+----------+----------+----------+-------+--------------------------------
 |    | $$$INDEX |          |          |     1 |
! 4  t

=
 The headline shows the function id (PDSEDIT) the processed dataset and some
 usefull stats in brackets. An analysis of the stats is as follows:
   (aa/bb Members : cc - Hits)
!y  r yg y          t y
    aa  - Count of the displayed members in the table. This is reduced when a
!r      b
          member is excluded.
    bb  - Count of the members in the dataset or the nuber of members hit if the
!g      b
          hits only option is used. This tally includes any excluded members.
          This tally gets decremented with each deleted member.
    cc  - Total number of hits/changes made. This is a tally of the Hits table
!t      b
          column. This gets decremented accordingly with excluded/deleted
          members.
 Use the relationship between the aa and bb values to determine whether members
!                                 r  b   g  b
 have been excluded/added. If aa<bb then the chances are that members have been
!                             r bg b
 excluded. If aa>bb Then the chances are a member has been edited that is either
!             r bg b
 a new member in the PDS or an existing member that was not in the table due to
 hits only display. (If you exlude and add in one session work it out yourself.)

 The Action field will keep an "audit" trail of last command executed.  (Eg. For
!    t     b                    y    b
 renames, the original member will have the value of "*Renamed" while the new
!w      b                                             y       b
 member will have the value of the original member_name.)
!                                           y          b
 Note: This field will stay red for any members with an original "CH-Error".
!w     b                    r  b                                  r       b

 Excluded members can only be sucessfully reincluded by returning to screen(1)
!                                                                    2        b
 and rescanning.

 On toggling SHOW ON/OFF (explicitly or using PF RIGHT/LEFT keys) you will get
!            y      by   b                       y    by   b
 the following display:

=t
 PDSEDIT 'AKOS.$$.NEW' (20/20 Members : 33 - Hits) ---------------- Row 1 of 20
!y                                                                  w
 AKOS ===>                                                     Scroll ===> CSR
!w                                                                        r
 |Sel | Member   | Hits  |(Edit-macro: N/A)
 +----+----------+-------+------------------------------------------------------
 |    | $$$INDEX |     1 | ¦$DDALLOC ¦R) Return datasets list allocated to a DD
! 4  t                     g
=

 The right hand field will show, left justified, the line the first hit was made
 on.  Note thate the display will be the original value before any chnges made
 (if change operation).


.7.The following operations may be performed in table display screen(2).
!G

.7a.Valid commands:
!g  2              b
=y          b
 B member   Select existing member for browse.
 C xxx      Copy (same options as for D, ie. ALL, HITS or MISS)
!y          b                         yb     y  by    b  y    b
 D A(*) | ALL(*) { B | NP }
!y      by       by  by   b
            Deletes all members from the PDS that appear in the table.
            Optional parameters:
              B  - Batch processing. Generates batch JCL. Watch this option as
!y               w b
                   you may get ENQ's and may need to logoff TSO to permit
                   execution of the batch job.
              NP - No Prompt. Without the batch option, you will get prompted
!y               w b
                   for confirmation of deleting each member.  For large PDS's
                   this interaction may be too time consuming.  By entering NP
                   all members will be automatically deleted without prompting
                   so be sure if you use this option.  You have been warned, as
                   irreversable damage could be the result.
 D H(*) | HITS(*) { B | NP }
!y      by        by  by   b
            Deletes all members from the PDS that have hits in the
            table. (Option list hits only and N must have been used else the
!           b                                 yb
            same as D ALL.)
!           b       y    b
            Optional parameters are the same as for D.
!                                                   yb
 D M(*) | MISS(*) { B | NP }
!y      by        by  by   b
            Deletes all members from the PDS that have no hits in the table.
            (Option list hits only and N must have been used else no members
!           b                          yb
            will be deleted.)
            Optional parameters are the same as for D.
!                                                   yb
 D member   Select existing member for deletion.
 E member   Select new or existing member for edit.
 HITS       Displays the output contents of dataset allocated to DD SYSPRINT.
!y          b                                                       y       b
            This is a summary of member stats.
            The dataset will be BROWSED unless you pass a parameter of /V. If
!                                                                      y b
            you wish to edit it, convert the browse/view session to edit using
            the EM /E command (if available).
!               y     b
 L member   Locate member.
 LEFT       Same as SHOW OFF.
 LISTO      Displays the output contents of dataset allocated to DD SYSOUT.
!y          b                                                       y     b
            This is a list of all the lines that found/changed.
            The dataset will be BROWSED unless you pass a parameter of /V. If
!                                                                      y b
            you wish to edit it, convert the browse/view session to edit using
            the EM /E command (if available).
!               y     b
 MED        Edit edit-macro.
 MLIST      Places the table into an edit session (for whatever you like).
?MON/MOFF
 MON/MOFF   Toggle between on/off for applying edit macro on editing.
!y  by      b                                                       y     b
 MON=       Set an existing members as active MON macro on editing.
 O oper     Only mebers whose Hits column values meet a criteria.  Valid
!y          b                 t    b
            operators are >, < and =. If an operand is missing, = will be
!                         yb yb    yb                           yb
            inserted. The operand must be followed by a valid whole number.
            Eg. O <1 (as 0 hits are blank this will display 0 hits rather than
!               y   b
            using command O =0).
!                         y r !
            For further details about excluded members use the following
            hyper-link screen(2). (Suggest TN command to invoke Tutorial
!                      2        b          y  b
            Navigation help for tips.)
 PRNT       Print table.  Actually, presents under viewer and onus is on user to
!y          b
            use their favourite print facility or copy for later use.
            The format of the print will be governed by the SHOW status.
 REFRESH    Refresh the table.  This command does not perform a re-scan but
            rather just refreshes the table.  Handy if members are removed from
            the table by the use of the O or X commands.
!                                       yb   yb
            Note - Deleted members will re-appear in the table and re-named
!w                 b
                   members will be under original name.  To overcome this you
                   must rebuild the table by going back to screen 1 and hitting
                   [ENTER}.
 RIGHT      Same as SHOW ON.
 S member   Select new or existing member for edit.
 SAVE table-member
            Permits saving in permanent table for later use.
 SHOW { ON / OFF }
!y    b y  b y   b
            Turn show 1st. 'hit' line in right of screen on/off. Toggles without
            parameter.
 SORT { MEMber | { H { A | D } } }
!y    b y      b   yb  yb  yb
            Mmeber is the default. Enter H for sorting hits value Acending or
!                                        yb                       yb
            Decending.
!           yb
 STats      Statistics for all members in the display.
 USTats     Update statistics for all members hit with changes but not updated
            by PDSEDIT.
            Note: For members with added or deleted lines stats are initialised.
!w               !
                  That means that the create date will be tha same as the last
                  changed date.  If you don't like this feel free to disassemble
                  program PDSEDIT, last changed in Oct 1981, change it and
                  re-assemble it (good luck).
 V membe    Select new or existing member for view.
 X oper     Exclude mebers whose Hits column values meet a criteria.  Valid
!y          b                    t    b
            operators are >, < and =. If an operand is missing, = will be
!                         yb yb    yb                           yb
            inserted. The operand must be followed by a valid whole number.
            Eg. X >10.
!               y    b
            For further details about excluded members use the following
            hyper-link screen(2).
!                      2        b
 $          Display command entry panel (in table display).  Used as a reminder
            of complex screen 1 commands.
 ?          Tutorial.


.7b.Valid selections:
!g  2                b
=y  w b
  B - Browse.
  C - Copy (TO member name operand required).
!y  w b     y b
  CE- Change Error.  List a brief change error message. For more details enter
      HITS on the command line and look for the member(s).
!y        b
  D - Delete.
  E - Edit.
  P - Print (Printer destination operand required. If omitted,
!y  w b      y       b
      the local printer is the default).
  R - Rename (TO member name operand required).
!y  w b       y b
  S - Edit if implied userid else browse.
  SS- Show Stats for the nmember (not in SHOW mode - scroll left).
  ST- Show STats for the nmember (not in SHOW mode - scroll left).
  US- Update stats.  Edit/save member (watch out for B37 errors).
  V - View.
!y  w b      y               b
  X - Exclude table entry without deleting member. For further about excluded
      members use the following hyper-link screen(2). (Suggest TN command to
!                                          2        b          y  b
      invoke Tutorial Navigation help for tips.)
=


.8.Miscellaneous commands/formats to be used with the COPY option:
!G                                                    Y   G

 Column limit:
!g
 On The main command line enter:
     PDS IN(infile) Field(c1 c2)
!y          g     y       g    y
 where c1 and c2 are the start and end columns respectively.
!      y b    y b
 You may override this by including search columns in the FIND/CHANGE
 commands, eg. Find (9 40) \find-string\change-string\
!              y     g   y  g          yg            y
 Note: For FIND/CHANGE purposes only, the column limits may be set up by
!w    b
       scrolling the screen right by using the RIGHT PF key. The command
!        b                                     y    b
       fields are changed to output to prevent truncation due to field length
       shortening. Return to normal using the LEFT PF key, the column values
!                                             y    b
       will be retained for that session only.

 Insert lines:
!g
 Usually after a FIND/CHANGE:
     Find (9 40) \find-string\change-string\
!g
     Insert n BEFORE/AFTER
!y
 where n is the number of line to insert. After is the default.  The n number
!      yb                                                            yb
 of lines to be inserted must follow the insert command.
   eg.
=y                       b    g
     Insert 3 AFTER
     Line insterted #1   <--- processed
     Line insterted #2   <--- processed
     Line insterted #3   <--- processed
     Line insterted #4   <--- ignored and treated as next command
!y                       b    r
=

 Delete lines:
!g
 Usually after a FIND/CHANGE:
     Find (9 40) \find-string\change-string)
!g
     Delete n
!y
 where n is the number of line to delete including the find string.
!      yb                                y        b



.9.Miscellaneous commands/hints/features:
!G

 If you place an I in column 1 of any find/change command, that command will
!                yb
 be ignored during processing. This is a handy feature in building up a full
 screen of commands and only executing the ones you wish (without an I).
!                                                                    yb
     eg.
=     w  r                              b
      => i\change_from\change_to\       will not be executed
      => \change_from\
      => i\change_to\                   will not be executed
=

?case
 In cases where uppercase translation is turned off entering r in a command line
!                                                            rb
 it will generate two similar entries with all but the first characters
 converted to lower case and the nexT in all lower case. (Normally the line
 would be repeated in uppercase.)
     eg. Before display:
=     w  r
      => \ALPHABET\
      => r
      =>
      =>
     Ater display:
!b
      => \ALPHABET\
      => \Alphabet\
      => \alphabet\
      =>
=
 Note - If capital R is entered, the line is just repeated (as would be if U/C
!                  rb
 trans was on) to minimise typing.

?first_
?parameter
.10.Invocation:
!G

 There are several ways of invoking this facility. The parameters that can be
 passed are as follows:
   DSNAME - Fully qualified quoted source dataset. The TSO profile "prefix" is
!y        b
            added to the front if unquoted. This must be the first parameter.
?second
?member_parameter
   MEMBER - Optional member mask.  It may have trailing and leading *, eg. cccc*
!y        b                                                         yb     y
            or *ccc*.  Alternatively you may provide mltiple member/membmask
!              y    b
            combinations with comma seperators.  This must be the second once
!                                                                 g     b
            the keyword parameter have been identified and removed from the
            parameter list.
   ALKVOL - Volume for uncataloged datasets.  Use prefix of V= if function is
!y        b                                                 r b
            invoked with a parameter list.
   UNIT   - Unit for ALKVOL (if used). Suggest setting to SYSALLDA.
!y        b          w     b                              y       b
   PARMS  - Fully qualified quoted destination dataset. This dataset is used if
!y        b
            changes are to be output to another dataset.  The TSO profile
            "prefix" is added to the front if unquoted.  Use prefix of O= if
!                                                                      r b
            function is invoked with a parameter list.
   ZEDLMSG- Any first entry message.  Only applicable if invoked using ISPF
!y        b
            services VPUT/VGET to pass parameters.
!                    g   bg   b

   If the function is invoked from a REXX/CLIST, all variable should be
!                                    g   bg    b
   initialised (to blanks if not used) prior to issuing the VPUT.
!                                                           g   b
   Only use the V= and O= keyword identifiers in parameter lists.
!               r b    r b

   1. REXX/CLIST.
!g
      Option 1:
!     1        !
=w
&       dsname="'&#uid..$'"
        member=                             /* All members            */
        member='*CICS*,JES2,VTAM*'          /* Memeber selection list */
        alkvol='ALEX01';unit='SYSALLDA'     /* If uncataloged         */
&       parms="'&#uid..$.TEMP'"
        zedlmsg='"PDSEDIT" being called from function "GLOBCHG".'
  i)    Address ISPEXEC VPUT "(DSNAME MEMBER PARMS UNIT ALKVOL ZEDLMSG)"
!t  y
 ii)    Address TSO "%CSMDSNPO"             /* Invoke CSMDSNPO        */
!t  y
        If rc=37 Then Do
            zedlmsg="Dataset needs to be compressed prior to",
                    "continuing."
            Signal errorfnd
        End
=

      Option 2:
!     1        !
      Same as option 1 with line ii replaced by the following:
!             1       !          t !
        xx=csmdsnpo()
!y

      Option 3:
!     1        !
      Same as option 1 with lines i and ii replaced by the following:
!             1       !           t!    t !
        xx=csmdsnpo(DSNAME MEMBER 'O='PARMS UNIT 'V='ALKVOL ZEDLMSG)
!y

   2. TSO command:
!g
        TSO %CSMDSNPO 'dataset' { member } { V=volume } { O='dest.dsn' }
!y

      Note that initial message "ZEDLMSG" is not available.


                         End of Instructions
!G
?TN (HELPTN) *
?? (HELPTN) *
*
* This should be the last entry.
*
* Note the index is not paragraphed but manually positioned as the
* start of the Index is before the "I.".
*
=Gb                                                                            G
#                                  I. Index.
!G

*%#line= '  Hello' cname'.';+
* #linea='Gbbbbbbb'Substr('yyyyyyyyyyyyyyyyyy',1,Length(cname))'b';+
* #linea=Overlay('G',#linea,79);+
* "TBMOD" #table
&   Hello &CNAME..

=Gb   2b                                                                       G
      1  Introduction.
      2  Features.
      3  Sample screen(1) using delimiter of \.
!Gb   2b                                     yb                                G
      4  Input fields summary.
=Gb   2 b                                                                      G
      4a Output dataset name.
      4b PDSEDIT delimiter.
      4c Hits only.
      4d Upper case (U/C).
      4e Keep output.
      4f PFK.
      4g Column boundaries.
=Gb   2b                                                                       G
      5  Miscellaneous parameter entry screen(1) commands.
      6  Fields of interest in the table display screen(2).
      7  The following operations may be performed in table display screen(2).
=Gb   2 b                                                                      G
      7a Valid commands.
      7b Valid selections.
      8  Miscellaneous commands/formats to be used with the COPY option.
      9  Miscellaneous commands/hints/features.
=Gb  2 b                                                                       G
     10  Invocation.
=Gy                                                                            G


                               (End of Index.)
!G

?TN (HELPTN) *
    TN/? Tutorial Navigation.
!Gy 2 b2b                                                                      G


!G
